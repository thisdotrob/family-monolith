# 001 — Server: Migrations for Projects and Memberships\n\nSpec refs: §§5,7,14,16\n\n## Summary\nCreate database tables for `projects` and `project_members` with required fields, indices, and constraints.\n\n## Rationale\nProjects and memberships are foundational for permissions and scoping of tasks, tags, and views.\n\n## Scope\n- SQL migrations to create:\n  - projects(id PK, name TEXT NOT NULL, owner_id FK users.id, archived_at DATETIME NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL)\n  - project_members(project_id FK projects.id, user_id FK users.id, created_at DATETIME NOT NULL)\n- Indices: projects(owner_id), project_members(project_id), project_members(user_id), unique(project_id,user_id)\n- Trigger or app logic to update `updated_at` on updates (consistent with repo style)\n\n## Acceptance Criteria\n- Migrations apply on startup; rollbackable.\n- Unique membership enforced; FK constraints validated.\n\n## Dependencies\n- None (new tables). Uses existing `users` table.\n\n## Implementation Steps\n1) Add `server/migrations/2025xxxxxx_create_projects.sql`\n2) Add `server/migrations/2025xxxxxx_create_project_members.sql`\n3) Ensure timestamps default and update behavior\n4) Update `server/DATABASE.md`\n\n## Tests\n- SQLx compile-time checks where applicable\n- Unit test: inserting duplicate membership fails\n\n## Out of Scope\n- GraphQL resolvers (covered by 002–004)\n

Note: When you complete this ticket, update todo-app-implementation-sequencing-plan.md to check off .rovodev/todo-app-001_server_migrations_projects_memberships.md in the appropriate wave.
